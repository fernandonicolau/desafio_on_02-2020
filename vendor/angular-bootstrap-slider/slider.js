angular.module("ui.bootstrap-slider",[]).directive("slider",["$parse","$timeout",function(e,n){return{restrict:"AE",replace:!0,template:'<div><input class="slider-input" type="text" /></div>',require:"ngModel",scope:{max:"=",min:"=",step:"=",value:"=",ngModel:"=",range:"=",sliderid:"=",formater:"&",onStartSlide:"&",onStopSlide:"&",onSlide:"&"},link:function(a,i,t,r,l){var o,u;function s(){var l={};function s(e,n,a){l[e]=n||a}function d(e,n,a){l[e]=n?parseFloat(n):a}function p(e,n,a){l[e]=n?n+""=="true":a}function f(e){return angular.isString(e)&&0===e.indexOf("[")?angular.fromJson(e):e}s("id",a.sliderid),s("orientation",t.orientation,"horizontal"),s("selection",t.selection,"before"),s("handle",t.handle,"round"),s("tooltip",t.tooltip,"show"),s("tooltipseparator",t.tooltipseparator,":"),d("min",a.min,0),d("max",a.max,10),d("step",a.step,1);var c=l.step+"",v=c.substring(c.lastIndexOf(".")+1);if(d("precision",t.precision,v),p("tooltip_split",t.tooltipsplit,!1),p("enabled",t.enabled,!0),p("naturalarrowkeys",t.naturalarrowkeys,!1),p("reversed",t.reversed,!1),p("range",a.range,!1),l.range){if(angular.isArray(a.value))l.value=a.value;else if(angular.isString(a.value)){if(l.value=f(a.value),!angular.isArray(l.value)){var g=parseFloat(a.value);isNaN(g)&&(g=5),g<a.min?(g=a.min,l.value=[g,l.max]):g>a.max?(g=a.max,l.value=[l.min,g]):l.value=[l.min,l.max]}}else l.value=[l.min,l.max];a.ngModel=l.value}else d("value",a.value,5);a.formater&&(l.formater=a.$eval(a.formater));var m=$(i).find(".slider-input").eq(0);if($.fn.slider){$.fn.slider.Constructor.prototype.disable=function(){this.picker.off()},$.fn.slider.Constructor.prototype.enable=function(){this.picker.on()},m.slider(l),m.slider("destroy"),m.slider(l);var S=f(t.updateevent);S=angular.isString(S)?[S]:["slide"],angular.forEach(S,function(e){m.on(e,function(e){r.$setViewValue(e.value),n(function(){a.$apply()})})});angular.forEach({slideStart:"onStartSlide",slide:"onSlide",slideStop:"onStopSlide"},function(i,r){m.on(r,function(r){a[i]&&(e(t[i])(a.$parent,{$event:r,value:r.value}),n(function(){a.$apply()}))})}),angular.isFunction(u)&&(u(),u=null),angular.isDefined(t.ngDisabled)&&(u=a.$watch(t.ngDisabled,function(e){e?m.slider("disable"):m.slider("enable")})),angular.isFunction(o)&&o(),o=a.$watch("ngModel",function(e){m.slider("setValue",e)})}}s();angular.forEach(["min","max","step","range"],function(e){a.$watch(e,function(){s()})})}}}]);